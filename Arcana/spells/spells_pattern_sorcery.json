[
  {
    "id": "arcana_pattern_sorcery",
    "type": "magic_type",
    "energy_source": "NONE",
    "cannot_cast_flags": [ "NO_ARCANA_MAGIC", "NO_SPELLCASTING" ],
    "failure_cost_percent": 1,
    "cannot_cast_message": "You cannot use your sorcery now!",
    "failure_chance_formula_id": "arcana_pattern_sorcery_failure_chance"
  },
  {
    "id": "arcana_magic_agility",
    "//": "Air spell",
    "type": "SPELL",
    "name": { "str": "Zéphuros's Grace" },
    "description": "Using this spell will grant a temporary speed and agility-enhancing effect.  It can be used on yourself or an ally.",
    "message": "\"Ethereal winds, guide my passage…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "spell_agility",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 40,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "min_duration": 144000,
    "max_duration": 288000,
    "duration_increment": 14400,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_capacitance",
    "type": "SPELL",
    "name": { "str": "Blood of Lightning" },
    "description": "Using this spell will channel your energy into artifice within the body, restoring bionic energy at the cost of stamina.  Doing so will stun yourself briefly, however.",
    "message": "\"Dōnēs nobis virtus…\"  You cast %s!",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "extra_effects": [
      { "id": "arcana_aftermath_capacitance_zap", "hit_self": true, "max_level": 10 },
      { "id": "arcana_aftermath_capacitance_stun", "hit_self": true, "max_level": 10 }
    ],
    "min_damage": 100,
    "max_damage": 200,
    "damage_increment": 10,
    "base_energy_cost": 3000,
    "final_energy_cost": 1500,
    "energy_increment": -150,
    "max_level": 10,
    "effect": "recover_energy",
    "shape": "blast",
    "effect_str": "BIONIC",
    "energy_source": "STAMINA",
    "difficulty": 50,
    "skill": "magic",
    "base_casting_time": 240,
    "final_casting_time": 120,
    "casting_time_increment": -12,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_clairvoyance",
    "//": "Spirit spell",
    "type": "SPELL",
    "name": { "str": "Sight Beyond Sight" },
    "description": "Using this spell will anoint you with an ivory halo, forcing open your inner eye and allowing you to see beyond.",
    "message": "\"Show me what eyes could never glimpse…\"  You cast %s!",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "effect_arcana_lesser_clairvoyance",
    "energy_source": "STAMINA",
    "difficulty": 60,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 280,
    "final_casting_time": 140,
    "casting_time_increment": -14,
    "base_energy_cost": 3500,
    "final_energy_cost": 1750,
    "energy_increment": -175,
    "min_duration": 216000,
    "max_duration": 432000,
    "duration_increment": 21600,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_clarity_blood",
    "//": "Forest spell",
    "type": "SPELL",
    "name": { "str": "Clarity of Blood" },
    "description": "Using this spell will grant protection against parasites and the Mycus.  It can be used on yourself or an ally.",
    "message": "\"You are many, but I am more than all of you…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "blood_clarity",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 40,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "min_duration": 48000,
    "max_duration": 96000,
    "duration_increment": 4800,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_cold_ward",
    "//": "Air spell",
    "type": "SPELL",
    "name": { "str": "Hyperborean Mantle" },
    "description": "Using this spell will protect against the cold, and all its side effects.  It can be used on yourself or an ally.",
    "message": "\"I am that which protects, offering mercy in troubled times…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "cold_ward",
    "energy_source": "STAMINA",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "difficulty": 50,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 240,
    "final_casting_time": 120,
    "casting_time_increment": -12,
    "base_energy_cost": 3000,
    "final_energy_cost": 1500,
    "energy_increment": -150,
    "min_duration": 60000,
    "max_duration": 120000,
    "duration_increment": 6000,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_confuse_monster",
    "type": "SPELL",
    "name": { "str": "Anointment of Lunacy" },
    "description": "Using this spell will stun all hostiles in the area around you.",
    "message": "\"No blade may mark me, if the hand cannot strike true…\"  You cast %s!",
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "hostile", "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT" ],
    "effect_str": "stunned",
    "sound_description": "a faint rush of air",
    "min_aoe": 5,
    "max_aoe": 15,
    "aoe_increment": 1,
    "max_level": 10,
    "difficulty": 30,
    "skill": "magic",
    "energy_source": "STAMINA",
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "min_duration": 1800,
    "max_duration": 3600,
    "duration_increment": 180,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_conjure_acid",
    "type": "SPELL",
    "name": { "str": "Caustic Eruption" },
    "description": "Using this spell will conjure a splash of acid at the point targeted, and strike the very center for double damage.  Potentially dangerous to allies as well.",
    "message": "\"Let it be as time itself, eroding all in its path…\"  You cast %s!",
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [
      { "id": "arcana_aftermath_brief_acid_ward", "hit_self": true },
      { "id": "arcana_aftermath_conjure_acid_spike", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_conjure_acid_noise", "hit_self": false, "max_level": 10 }
    ],
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "effect_str": "corroding",
    "min_damage": 40,
    "max_damage": 80,
    "damage_increment": 4,
    "min_range": 5,
    "max_range": 15,
    "range_increment": 1,
    "min_aoe": 2,
    "max_aoe": 6,
    "aoe_increment": 0.4,
    "max_level": 10,
    "difficulty": 40,
    "skill": "magic",
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "energy_source": "STAMINA",
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "min_duration": 800,
    "max_duration": 1600,
    "duration_increment": 80,
    "damage_type": "acid",
    "field_id": "fd_acid",
    "field_chance": 6,
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "field_intensity_increment": 0.2,
    "field_intensity_variance": 0.5,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_conjure_flame",
    "//": "Fire spell",
    "type": "SPELL",
    "name": { "str": "Incandescent Conflagration" },
    "description": "Using this spell will conjure a fiery explosion at the location targeted, starting fires and damaging terrain.  Anything caught in the center will take double damage, and it can be dangerous to nearby allies.",
    "message": "\"Let this be your pyre…\"  You cast %s!",
    "extra_effects": [
      { "id": "arcana_aftermath_brief_fire_ward", "hit_self": true },
      { "id": "arcana_aftermath_conjure_flame_spike", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_conjure_flame_bash", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_conjure_flame_noise", "hit_self": false, "max_level": 10 }
    ],
    "effect": "attack",
    "shape": "blast",
    "valid_targets": [ "self", "ally", "hostile", "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT", "NO_PROJECTILE" ],
    "min_damage": 40,
    "max_damage": 80,
    "damage_increment": 4,
    "min_range": 12,
    "max_range": 24,
    "range_increment": 1.2,
    "min_aoe": 1,
    "max_aoe": 5,
    "aoe_increment": 0.4,
    "max_level": 10,
    "difficulty": 40,
    "skill": "magic",
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "energy_source": "STAMINA",
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "min_duration": 800,
    "max_duration": 1600,
    "duration_increment": 80,
    "damage_type": "heat",
    "field_id": "fd_fire",
    "field_chance": 6,
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "field_intensity_increment": 0.2,
    "field_intensity_variance": 0.5,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_consecrate",
    "type": "SPELL",
    "name": { "str": "Banish the Beyond" },
    "description": "Using this spell will alter the terrain around you, driving off various signs of otherworldly corruption afflicting the land.  It will also harm a limited selection of otherworldly monsters.",
    "message": "\"I am that which reveals the wicked, and scourges them with flame…\"  You cast %s!",
    "valid_targets": [ "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "IGNORE_WALLS", "NO_PROJECTILE" ],
    "effect": "ter_transform",
    "shape": "blast",
    "effect_str": "arcana_consecrate",
    "extra_effects": [ { "id": "arcana_aftermath_consecrate_lesser", "hit_self": false, "max_level": 10 } ],
    "energy_source": "STAMINA",
    "max_level": 10,
    "difficulty": 60,
    "skill": "magic",
    "min_damage": 4,
    "max_damage": 2,
    "damage_increment": -0.2,
    "min_aoe": 8,
    "max_aoe": 12,
    "aoe_increment": 0.4,
    "min_range": 8,
    "max_range": 16,
    "range_increment": 0.8,
    "base_casting_time": 280,
    "final_casting_time": 140,
    "casting_time_increment": -14,
    "base_energy_cost": 3500,
    "final_energy_cost": 1750,
    "energy_increment": -175,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_summon_raging_thunderstorm",
    "//": "Air spell",
    "type": "SPELL",
    "name": { "str": "Majesty of Jove" },
    "description": "Using this spell will rapidly cloud the sky over and cause a torrential rain interspersed with blasts of lightning.  The storm, once initiated, has a life of its own and cannot be stopped.",
    "message": "\"Thunderbolts and rains, to me…\"  You cast %s!",
    "effect": "effect_on_condition",
    "shape": "blast",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT" ],
    "effect_str": "EOC_ARCANA_MAGIC_SUMMON_RAGING_THUNDERSTORM",
    "max_level": 10,
    "difficulty": 70,
    "skill": "magic",
    "base_casting_time": 9600,
    "final_casting_time": 4800,
    "casting_time_increment": -480,
    "energy_source": "STAMINA",
    "base_energy_cost": 4000,
    "final_energy_cost": 2000,
    "energy_increment": -200,
    "min_duration": 84000,
    "max_duration": 168000,
    "duration_increment": 8400,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_ARCANA_MAGIC_SUMMON_RAGING_THUNDERSTORM",
    "condition": {
      "and": [
        { "not": { "is_weather": "magic_weather_light_drizzle" } },
        { "not": { "is_weather": "magic_weather_drizzle" } },
        { "not": { "is_weather": "magic_weather_rain" } },
        { "not": { "is_weather": "magic_weather_rainstorm" } },
        { "not": { "is_weather": "magic_weather_thunder" } },
        { "not": { "is_weather": "magic_weather_lightning" } }
      ]
    },
    "effect": [
      { "math": [ "u_weather_change_limit = 6" ] },
      { "math": [ "u_weather_stage_up_lower_bound = 60" ] },
      { "math": [ "u_weather_stage_up_upper_bound = 180" ] },
      { "u_add_effect": "effect_controlling_weather_lightningstorm", "duration": "6 hours" },
      {
        "u_add_effect": "effect_controlling_weather",
        "duration": { "math": [ "(u_spell_level('arcana_magic_summon_raging_thunderstorm') * 84) + 840 + 900" ] }
      },
      {
        "run_eocs": "EOC_WEATHER_CONTROL_INITIATE",
        "time_in_future": [ { "math": [ "u_weather_stage_up_lower_bound" ] }, { "math": [ "u_weather_stage_up_upper_bound" ] } ]
      }
    ],
    "false_effect": [ { "u_message": "You have already enchatned the weather.  Now you must let it run its course.", "type": "mixed" } ]
  },
  {
    "id": "arcana_magic_translocation",
    "type": "SPELL",
    "name": { "str": "Ethereal Translocation" },
    "description": "Using this spell will swap your position with a hostile target of your choosing, leaving your victim dazed and creating a blast of fog ahead of the area you emerge from.",
    "message": "\"To walk in the spaces between…\"  You cast %s!",
    "valid_targets": [ "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SWAP_POS" ],
    "extra_effects": [ { "id": "arcana_magic_translocation_aoe", "hit_self": false, "max_level": 10 } ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "dazed",
    "energy_source": "STAMINA",
    "difficulty": 30,
    "skill": "magic",
    "max_level": 10,
    "min_range": 20,
    "max_range": 40,
    "range_increment": 2,
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "min_duration": 1800,
    "max_duration": 3600,
    "duration_increment": 180,
    "field_id": "fd_fog",
    "field_chance": 1,
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "field_intensity_increment": 0.2,
    "field_intensity_variance": 0.5,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_earthweaving",
    "//": "Earth spell",
    "type": "SPELL",
    "name": { "str": "Earthweaving" },
    "description": "Using this spell will alter terrain at a single targeted point, raising and lowering earthen barriers from any diggable terrain, or raising and lowering solid rock from natural stone.",
    "message": "\"May we rebuild this world, one stone at a time…\"  You cast %s!",
    "valid_targets": [ "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "IGNORE_WALLS", "NO_PROJECTILE" ],
    "effect": "ter_transform",
    "shape": "blast",
    "effect_str": "arcana_earthweaving",
    "energy_source": "STAMINA",
    "difficulty": 40,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 10,
    "max_range": 15,
    "range_increment": 0.5,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_eclipse",
    "type": "SPELL",
    "name": { "str": "Eclipse" },
    "description": "Using this spell will inflict a shallow wound in The Veil, bringing forth monsters and darkness in exchange for a surge of unnatural adrenaline, life-drain, and night vision.",
    "message": "\"I am that which stands defiant, the finite made infinite…\"  You cast %s!",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "spell_eclipse",
    "extra_effects": [
      { "id": "arcana_aftermath_eclipse_darkness", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_eclipse_halo", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_eclipse_wonder", "hit_self": false },
      { "id": "arcana_aftermath_eclipse_sleepiness", "hit_self": false }
    ],
    "energy_source": "STAMINA",
    "max_level": 10,
    "difficulty": 90,
    "skill": "magic",
    "base_casting_time": 400,
    "final_casting_time": 200,
    "casting_time_increment": -10,
    "base_energy_cost": 5000,
    "final_energy_cost": 2500,
    "energy_increment": -250,
    "min_duration": 324000,
    "max_duration": 648000,
    "duration_increment": 32400,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_elemental_burst",
    "//": "Multi-element spell",
    "type": "SPELL",
    "name": { "str": "Wrath of the Elements" },
    "description": "Using this spell will blast a cone-shaped area with elemental force, leaving random side effects in its wake.  Creatures caught in the center line will take double damage.  Beware the risk of friendly fire!",
    "message": "\"I am that which resides in all living things, the order hidden within chaos…\"  You cast %s!",
    "effect": "attack",
    "shape": "cone",
    "extra_effects": [ { "id": "arcana_magic_elemental_burst_wonder", "hit_self": false, "max_level": 10 } ],
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT" ],
    "min_damage": 70,
    "max_damage": 140,
    "damage_increment": 7,
    "damage_type": "pure",
    "min_range": 8,
    "max_range": 16,
    "range_increment": 0.8,
    "min_aoe": 15,
    "max_aoe": 30,
    "aoe_increment": 1.5,
    "max_level": 10,
    "difficulty": 70,
    "skill": "magic",
    "base_casting_time": 320,
    "final_casting_time": 160,
    "casting_time_increment": -16,
    "energy_source": "STAMINA",
    "base_energy_cost": 4000,
    "final_energy_cost": 2000,
    "energy_increment": -200,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_free_action",
    "//": "Air spell",
    "type": "SPELL",
    "name": { "str": "The Unbound Heart" },
    "description": "Using this spell will grant protection against paralytic effects, grabs, and other hindrances, along with freezing time briefly to allow an escape.  It can be used on yourself or an ally.",
    "message": "\"Let there be no fetter that can bind me…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "extra_effects": [ { "id": "arcana_aftermath_free_action_timestop", "hit_self": false, "max_level": 10 } ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "free_action",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 30,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "min_duration": 36000,
    "max_duration": 72000,
    "duration_increment": 3600,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_harden_senses",
    "type": "SPELL",
    "name": { "str": "Clarity Above All" },
    "description": "Using this spell guard your senses against blinding flashes and a limited selection of other stunning effects.  It can be used on yourself or an ally.",
    "message": "\"With clear vision, the hunted becomes the hunter…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "hardened_senses",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 20,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 120,
    "final_casting_time": 60,
    "casting_time_increment": -6,
    "base_energy_cost": 1500,
    "final_energy_cost": 750,
    "energy_increment": -75,
    "min_duration": 24000,
    "max_duration": 48000,
    "duration_increment": 2400,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_healing",
    "//": "Forest spell",
    "type": "SPELL",
    "name": { "str": "Corporeal Restoration" },
    "description": "Using this spell will staunch bleeding and mend wounds, though overuse can be harmful in the long run.  It can be used on yourself or an ally.",
    "message": "\"We shall not yet fall into extinction…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT" ],
    "effect_str": "arcane_healing_staunch",
    "extra_effects": [ { "id": "arcana_aftermath_healing_side_effects", "max_level": 10 } ],
    "min_damage": -10,
    "max_damage": -40,
    "damage_increment": -2.5,
    "max_level": 10,
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 280,
    "final_casting_time": 140,
    "casting_time_increment": -14,
    "base_energy_cost": 3500,
    "final_energy_cost": 1750,
    "energy_increment": -175,
    "difficulty": 60,
    "skill": "magic",
    "min_duration": 100,
    "max_duration": 100,
    "energy_source": "STAMINA",
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_heat_ward",
    "//": "Fire spell",
    "type": "SPELL",
    "name": { "str": "Forge-Hardened Flesh" },
    "description": "Using this spell will grant temporary resistance to heat and smoke.  Direct contact with flame will still cause harm, however.  It can be used on yourself or an ally.",
    "message": "\"The steel does not fear the flame that tempers it…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "heat_ward",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 50,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 240,
    "final_casting_time": 120,
    "casting_time_increment": -12,
    "base_energy_cost": 3000,
    "final_energy_cost": 1500,
    "energy_increment": -150,
    "min_duration": 60000,
    "max_duration": 120000,
    "duration_increment": 6000,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_insight",
    "type": "SPELL",
    "name": { "str": "Opening the Inner Eye" },
    "description": "Using this spell will grant a temporary boost to perception, and night vision.  It can be used on yourself or an ally.",
    "message": "\"All is known to one who watches and listens with patience…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "spell_insight",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 30,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "min_duration": 108000,
    "max_duration": 216000,
    "duration_increment": 10800,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_light",
    "//": "Fire spell",
    "type": "SPELL",
    "name": { "str": "Lambent Glow" },
    "description": "Using this spell will conjure a field of magical light, lingering in the area around you.  It will also deal minor damage to creatures that shun the light.",
    "message": "\"The smallest candle flame brings hope until the dawn…\"  You cast %s!",
    "valid_targets": [ "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT" ],
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [ { "id": "arcana_aftermath_light_searing", "hit_self": false, "max_level": 10 } ],
    "energy_source": "STAMINA",
    "min_aoe": 4,
    "max_aoe": 8,
    "aoe_increment": 0.4,
    "difficulty": 20,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 120,
    "final_casting_time": 60,
    "casting_time_increment": -6,
    "base_energy_cost": 1500,
    "final_energy_cost": 750,
    "energy_increment": -75,
    "min_duration": 240000,
    "max_duration": 480000,
    "duration_increment": 24000,
    "field_id": "fd_veil_light",
    "field_chance": 2,
    "min_field_intensity": 1,
    "max_field_intensity": 1,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_lightning_ward",
    "//": "Lightning spell",
    "type": "SPELL",
    "name": { "str": "The Eye of the Storm" },
    "description": "Using this spell will grant a blessing that completely protects against lightning, at the expense of slowing you down a bit.  It can be cast on yourself or an ally.",
    "message": "\"One foot after the other, always grounded…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "lightning_ward",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 40,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "min_duration": 48000,
    "max_duration": 96000,
    "duration_increment": 4800,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_might",
    "type": "SPELL",
    "name": { "str": "Otherworldly Potence" },
    "description": "Using this spell will grant a temporary boost to strength.  It can be used on yourself or an ally.",
    "message": "\"Let it be a glorious battle…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "spell_might",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 50,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 240,
    "final_casting_time": 120,
    "casting_time_increment": -12,
    "base_energy_cost": 3000,
    "final_energy_cost": 1500,
    "energy_increment": -150,
    "min_duration": 180000,
    "max_duration": 360000,
    "duration_increment": 18000,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_open_lock",
    "type": "SPELL",
    "name": { "str": "Unbar the Portal" },
    "description": "Using this spell has a chance of unbinding locks, unsealing barricades, or otherwise opening the way forward in the targeted area.",
    "message": "\"That which is made by man can always be undone by human hands…\"  You cast %s!",
    "valid_targets": [ "self", "ally", "hostile", "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "IGNORE_WALLS", "NO_PROJECTILE" ],
    "extra_effects": [ { "id": "arcana_aftermath_open_lock_spike", "max_level": 10 } ],
    "effect": "ter_transform",
    "shape": "blast",
    "effect_str": "arcana_open_lock",
    "energy_source": "STAMINA",
    "difficulty": 40,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 5,
    "max_damage": 3,
    "damage_increment": -0.2,
    "min_range": 5,
    "max_range": 10,
    "range_increment": 0.5,
    "min_aoe": 1,
    "max_aoe": 5,
    "aoe_increment": 0.4,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_overgrowth",
    "//": "Forest spell",
    "type": "SPELL",
    "name": { "str": "A Spread of Rampant Green" },
    "description": "Using this spell will conjure an eruption of the living forest, at the location you target.  It will destroy most furniture in the affected area and disrupt terrain.",
    "message": "\"We shall prosper, no matter how barren the ground…\"  You cast %s!",
    "valid_targets": [ "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "IGNORE_WALLS", "NO_PROJECTILE" ],
    "effect": "ter_transform",
    "shape": "blast",
    "effect_str": "arcana_plants",
    "energy_source": "STAMINA",
    "difficulty": 30,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 4,
    "max_damage": 2,
    "damage_increment": -0.2,
    "min_aoe": 2,
    "max_aoe": 10,
    "aoe_increment": 0.8,
    "min_range": 5,
    "max_range": 10,
    "range_increment": 0.5,
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_phase_shield",
    "type": "SPELL",
    "name": { "str": "Halo of the Sun" },
    "description": "Using this spell will anoint you with a sunstone halo, granting a temporary defensive effect that will push any nearby attackers away from you in random directions, activating at random when you're struck.",
    "message": "\"Turn aside not the blade, but the hand that wields it…\"  You cast %s!",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "arcana_halo_phase_shield",
    "energy_source": "STAMINA",
    "difficulty": 70,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 320,
    "final_casting_time": 160,
    "casting_time_increment": -16,
    "base_energy_cost": 4000,
    "final_energy_cost": 2000,
    "energy_increment": -200,
    "min_duration": 84000,
    "max_duration": 168000,
    "duration_increment": 8400,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_poison_armor",
    "type": "SPELL",
    "name": { "str": "Toxic Ward" },
    "description": "Using this spell will grant a blessing that protects against toxic gas and other forms of poison.  It can be used on yourself or an ally.",
    "message": "\"I fear no venom, whether it be by word or blade…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "poison_ward",
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "energy_source": "STAMINA",
    "difficulty": 30,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "min_duration": 36000,
    "max_duration": 72000,
    "duration_increment": 3600,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_serpentine_shield",
    "//": "ID retained to avoid breaking saves.",
    "type": "SPELL",
    "name": { "str": "Obsidian Mantle of Shadows" },
    "description": "Using this spell will anoint you with an obsidian halo, granting a temporary defensive effect that will strike attackers blind with otherworldly darkness.",
    "message": "\"Fear not the darkness, but those who lure you into it…\"  You cast %s!",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "effect_arcana_serpentine_shield",
    "energy_source": "STAMINA",
    "difficulty": 60,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 1,
    "max_damage": 1,
    "base_casting_time": 280,
    "final_casting_time": 140,
    "casting_time_increment": -14,
    "base_energy_cost": 3500,
    "final_energy_cost": 1750,
    "energy_increment": -175,
    "min_duration": 72000,
    "max_duration": 144000,
    "duration_increment": 7200,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_shockstorm",
    "//": "Lightning spell",
    "type": "SPELL",
    "name": { "str": "Fulminating Wave" },
    "description": "Using this spell will call forth lightning all around you.  Anything close to you will take double damage.  Beware using it around allies.",
    "message": "\"Let it be a thunder to split the heavens and earth…\"  You cast %s!",
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [
      { "id": "arcana_aftermath_brief_lightning_ward", "hit_self": true },
      { "id": "arcana_aftermath_shockstorm_spike", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_shockstorm_line", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_shockstorm_line", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_shockstorm_line", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_shockstorm_line", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_shockstorm_noise", "hit_self": false, "max_level": 10 }
    ],
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS", "SILENT" ],
    "effect_str": "zapped",
    "min_damage": 50,
    "max_damage": 100,
    "damage_increment": 5,
    "min_aoe": 4,
    "max_aoe": 12,
    "aoe_increment": 0.8,
    "max_level": 10,
    "difficulty": 20,
    "skill": "magic",
    "base_casting_time": 240,
    "final_casting_time": 120,
    "casting_time_increment": -12,
    "base_energy_cost": 3000,
    "final_energy_cost": 1500,
    "energy_increment": -150,
    "energy_source": "STAMINA",
    "min_duration": 1000,
    "max_duration": 2000,
    "duration_increment": 100,
    "damage_type": "electric",
    "field_id": "fd_electricity",
    "field_chance": 10,
    "min_field_intensity": 1,
    "max_field_intensity": 3,
    "field_intensity_increment": 0.2,
    "field_intensity_variance": 0.5,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_sundering_quake",
    "//": "Earth spell",
    "type": "SPELL",
    "name": { "str": "The Earth Trembles" },
    "description": "Using this spell will bring down structures and leave broken stones in your wake, damaging any foes (or allies) caught in the blast.  Enemies in the epicenter will take double damage.",
    "message": "\"I am that which lies beneath, splitting continents with but a word…\"  You cast %s!",
    "effect": "attack",
    "shape": "blast",
    "extra_effects": [
      { "id": "arcana_aftermath_sundering_quake_spike", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_sundering_quake_noise", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_sundering_quake_pulse", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_sundering_quake_boulders", "hit_self": false, "max_level": 10 }
    ],
    "valid_targets": [ "ally", "hostile", "ground" ],
    "flags": [ "SILENT", "VERBAL", "SOMATIC", "LOUD", "NO_LEGS" ],
    "min_damage": 20,
    "max_damage": 40,
    "damage_increment": 2,
    "damage_type": "bash",
    "min_range": 10,
    "max_range": 20,
    "range_increment": 1,
    "min_aoe": 3,
    "max_aoe": 8,
    "aoe_increment": 0.5,
    "max_level": 10,
    "difficulty": 80,
    "skill": "magic",
    "energy_source": "STAMINA",
    "base_casting_time": 360,
    "final_casting_time": 180,
    "casting_time_increment": -18,
    "base_energy_cost": 4500,
    "final_energy_cost": 2250,
    "energy_increment": -225,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_create_rift_in_ground",
    "type": "SPELL",
    "name": { "str": "Yawn Wide the Rift" },
    "description": "Using this spell will open a rift in the ground, damaging any structures and .",
    "message": "\"At my word, the earth trembles and the ground splits asunder…\"  You cast %s!",
    "valid_targets": [ "ground", "ally", "hostile" ],
    "flags": [ "VERBAL", "SOMATIC", "LOUD", "NO_LEGS", "IGNORE_WALLS" ],
    "effect": "bash",
    "shape": "line",
    "extra_effects": [
      { "id": "arcana_aftermath_create_rift_in_ground_extra_center_bash", "hit_self": false, "max_level": 10 },
      { "id": "arcana_aftermath_create_rift_in_ground_transform", "hit_self": false, "max_level": 10 }
    ],
    "energy_source": "STAMINA",
    "max_level": 10,
    "difficulty": 60,
    "skill": "magic",
    "min_damage": 150,
    "max_damage": 450,
    "damage_increment": 30,
    "min_aoe": 4,
    "max_aoe": 4,
    "min_range": 8,
    "max_range": 16,
    "range_increment": 0.8,
    "base_casting_time": 280,
    "final_casting_time": 140,
    "casting_time_increment": -14,
    "base_energy_cost": 3500,
    "final_energy_cost": 1750,
    "energy_increment": -175,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_summon_skeletal_dog",
    "type": "SPELL",
    "name": { "str": "Call Forth the Hound of Bone" },
    "description": "Using this spell will summon an animalistic revenant, which will be loyal but not permanent.",
    "message": "\"Loyal unto death, and even beyond…\"  You cast %s!",
    "valid_targets": [ "ground" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "summon",
    "shape": "blast",
    "effect_str": "mon_dog_skeleton_summoned",
    "energy_source": "STAMINA",
    "difficulty": 30,
    "skill": "magic",
    "max_level": 10,
    "min_damage": 1,
    "max_damage": 1,
    "min_range": 3,
    "max_range": 8,
    "range_increment": 0.5,
    "base_casting_time": 160,
    "final_casting_time": 80,
    "casting_time_increment": -8,
    "base_energy_cost": 2000,
    "final_energy_cost": 1000,
    "energy_increment": -100,
    "min_duration": 360000,
    "max_duration": 720000,
    "duration_increment": 36000,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_surge_adrenaline",
    "type": "SPELL",
    "name": { "str": "Outpouring of Prowess" },
    "description": "Using this spell will provoke a rush of adrenaline for urgent situations, albeit with the same drawbacks afterward.  It can be used on yourself or an ally.",
    "message": "\"The battle is not over yet…\"  You cast %s!",
    "valid_targets": [ "self", "ally" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect_str": "adrenaline",
    "max_level": 10,
    "min_range": 1,
    "max_range": 10,
    "range_increment": 0.9,
    "effect": "attack",
    "shape": "blast",
    "base_casting_time": 120,
    "final_casting_time": 60,
    "casting_time_increment": -6,
    "base_energy_cost": 1500,
    "final_energy_cost": 750,
    "energy_increment": -75,
    "difficulty": 20,
    "skill": "magic",
    "min_duration": 72000,
    "max_duration": 144000,
    "duration_increment": 7200,
    "energy_source": "STAMINA",
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "id": "arcana_magic_underwater_travel",
    "//": "Water spell",
    "type": "SPELL",
    "name": { "str": "Manannán's Cloak" },
    "description": "Using this spell will allow you to breathe, see, and move freely underwater.",
    "message": "\"Waves, part before me…\"  You cast %s!",
    "valid_targets": [ "self" ],
    "flags": [ "VERBAL", "SOMATIC", "NO_LEGS" ],
    "effect": "attack",
    "shape": "blast",
    "effect_str": "effect_arcana_underwater_travel",
    "energy_source": "STAMINA",
    "difficulty": 40,
    "skill": "magic",
    "max_level": 10,
    "base_casting_time": 200,
    "final_casting_time": 100,
    "casting_time_increment": -10,
    "base_energy_cost": 2500,
    "final_energy_cost": 1250,
    "energy_increment": -125,
    "min_duration": 144000,
    "max_duration": 288000,
    "duration_increment": 14400,
    "spell_class": "PATTERN_SORCERY",
    "magic_type": "arcana_pattern_sorcery"
  },
  {
    "type": "effect_on_condition",
    "id": "EOC_ARCANA_UNDERWATER_TRAVEL_LOSE_WET",
    "eoc_type": "EVENT",
    "required_event": "avatar_moves",
    "condition": { "u_has_effect": "effect_arcana_underwater_travels" },
    "effect": [
      {
        "foreach": "array",
        "target": [ "arm_l", "arm_r", "leg_l", "leg_r", "torso", "head", "hand_r", "hand_l", "foot_r", "foot_l", "eyes", "mouth" ],
        "var": { "context_val": "id" },
        "effect": [ { "u_lose_effect": "wet", "target_part": { "context_val": "id" } } ]
      },
      { "u_lose_effect": "wet", "target_part": "head" }
    ]
  }
]
